<div class="container card p-4 w-50 mx-auto mt-5 shadow-sm rounded-3">
  <h2 class="mb-4 d-flex align-items-center gap-2">
    <mat-icon color="primary">{{ bookId ? 'edit' : 'add' }}</mat-icon>
    {{ bookId ? 'Edit Book' : 'Add Book' }}
  </h2>

  <form [formGroup]="form" (ngSubmit)="save()">
    <!-- Title -->
    <mat-form-field appearance="outline" class="w-100 mb-3">
      <mat-label>Title</mat-label>
      <input matInput formControlName="title" />
    </mat-form-field>

    <!-- Author -->
    <mat-form-field appearance="outline" class="w-100 mb-3">
      <mat-label>Author</mat-label>
      <input matInput formControlName="author" />
    </mat-form-field>

    <!-- Year -->
    <mat-form-field appearance="outline" class="w-100 mb-3">
      <mat-label>Year</mat-label>
      <input matInput type="number" formControlName="year" />
    </mat-form-field>

    <!-- Categories -->
    <mat-form-field appearance="outline" class="w-100 mb-4">
      <mat-label>Categories</mat-label>
      <mat-select formControlName="categoryIds" multiple>
        <mat-option *ngFor="let c of categories" [value]="c.id">
          {{ c.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Buttons -->
    <div class="d-flex justify-content-between">
      <button mat-raised-button color="primary" type="submit">
        {{ bookId ? 'Update' : 'Create' }}
      </button>
<button mat-stroked-button color="warn" type="button" (click)="cancel()">Cancel</button>
    </div>
  </form>
</div>
